import{a as f,c as g,d as m,e as y,g as _,h as r,i as E,k as b,l as v,m as S}from"./chunk-HPUORIJ7.js";import{a as p}from"./chunk-TXUFLIE5.js";import{D as d,Ia as h,d as c,h as s,i as l,l as u,o as a}from"./chunk-UREYUQAJ.js";import{a as i,b as n}from"./chunk-ACKELEN3.js";var U="tst",D=class o{_firestore=a(f);_authState=a(p);_collection=y(this._firestore,U);_query=b(this._collection,S("userId","==",this._authState.currentUser?.uid));loading=d(!0);getEntries=h(g(this._query,{idField:"id"}).pipe(l(()=>{this.loading.set(!1)}),s(t=>(this.loading.set(!1),c(()=>t)))),{initialValue:[]});constructor(){console.log(this._authState.currentUser)}getEntry(t){let e=r(this._collection,t);return E(e)}create(t){return m(this._collection,n(i({},t),{userId:this._authState.currentUser?.uid}))}update(t,e){let I=r(this._collection,e);return v(I,n(i({},t),{userId:this._authState.currentUser?.uid}))}delete(t){let e=r(this._collection,t);return _(e)}static \u0275fac=function(e){return new(e||o)};static \u0275prov=u({token:o,factory:o.\u0275fac})};export{D as a};
